\documentclass[x11names,reqno,14pt]{extarticle}
\input{preamble}
\usepackage[document]{ragged2e}
\usepackage{epsfig}

\pagestyle{fancy}{
	\fancyhead[L]{Winter 2023}
	\fancyhead[C]{220B - Rings}
	\fancyhead[R]{John White}
  
  \fancyfoot[R]{\footnotesize Page \thepage \ of \pageref{LastPage}}
	\fancyfoot[C]{}
	}
\fancypagestyle{firststyle}{
     \fancyhead[L]{}
     \fancyhead[R]{}
     \fancyhead[C]{}
     \renewcommand{\headrulewidth}{0pt}
	\fancyfoot[R]{\footnotesize Page \thepage \ of \pageref{LastPage}}
}
\newcommand{\pmat}[4]{\begin{pmatrix} #1 & #2 \\ #3 & #4 \end{pmatrix}}
\newcommand{\mk}[1]{\mathfrak{#1}}
\DeclareMathOperator{\Perm}{Perm}

\title{220B - Rings}
\author{John White}
\date{Winter 2023}


\begin{document}

\section*{Lecture 1}

\subsection*{\underline{Rings:}}

\defn

A \underline{ring} $R$ is an abelian group $(R, +)$ together with multiplication

\begin{align*}
R\times R & \mapsto R \\
(r, s) & \mapsto r\cdot s \\ 
\end{align*}
such that
\begin{enumerate}
\item $r_1\cdot(r_2\cdot r_3) = (r_1\cdot r_2)\cdot r_3$ for all $r_1, r_2, r_3 \in R$. In other words, multiplication is \textit{associative}.
\item $r_1 \cdot(r_2 + r_3) = r_1\cdot r_2 + r_1\cdot r_3$ for all $r_1, r_2, r_3 \in R$. That is, $\cdot$ \textit{distributes} over $+$. 
\item There is an element $1 \in R$ such that $1\cdot r = r \cdot 1 = r$ for all $r \in R$. This is \textit{multiplicative identity}. 
\end{enumerate}

\rem
\begin{itemize}
\item The multiplication is \textit{not} assumed to be commutative. If it is, we say $R$ is a \textit{commutative ring}. 
\item The above definition (including 3) is sometimes called \textit{ring with identity}. An object which satisfies all of these except 3 is sometimes called a \textit{rng} (pronounced ``rung"). 
\end{itemize}

\exm

\begin{enumerate}
\item The integers $\Z$ with the usual addition and multiplication.
 
\item For any $n \in \N, n \geq 1$, $\Z/n\Z$ is a ring under the operations 
\begin{align*}
+:& \Z/n\Z\times\Z/n\Z \mapsto\Z/n\Z \\
& (\bar{a}, \bar{b})\mapsto\bar{a + b} \\
\times:&\Z/n\Z\times\Z/n\Z\mapsto\Z/n\Z \\
& (\bar{a}, \bar{b}) \mapsto\bar{ab} \\
\end{align*}

\item $\Q, \R, \C$ are all rings (in fact they are fields). 

\item The set of $n\times n$ matrices with entries in a ring $R$. 

\item $R[x]$, the ring of all polynomials with coefficients in a ring $R$ 
\item Let $G$ be an abelian group, and let 
\[
R = \{\text{all group homomorphisms }G\to G\}
\]
Define, for all $\phi,\psi\in R$, for all $g \in G$, 
\begin{align*}
(\phi + \psi)(g) & = \phi(g) + \psi(g) \\
(\phi\cdot\psi(g) & = \phi(\psi(g)) \\
\end{align*}
$1 = \Id_G$. 

Exercise: Check that $R$ is a ring. 

\item Let $X$ be any set, and let $R = \mc{P}(X)$, the power set of $X$. Define, for all $E, F \in R$, 
\begin{align*}
E + F & = E\bigtriangleup F \\
E \cdot F & = E \cap F \\
\end{align*}
$1 = X$
Exercise: Check $R$ is a (commutative) ring.

\end{enumerate}

\defn

Let $R$ and $S$ be rings. A \underline{ring homomorphism} is a map $f:R\to S$ such that for all $r_1, r_2 \in R$, 
\begin{align*}
f(r + s) & = f(r) + f(s) \\
f(r\cdot s) & = f(r)\cdot f(s) \\
f(1_R) & = 1_S \\
\end{align*}

\exm The quotient map $\phi:\Z\to\Z/n\Z$ given by $a\mapsto\bar{a}$ is a ring homomorphism. 

Let $R$ be a ring. 

\defn A subset $S\subseteq R$ is a \underline{subring} if $S$ is an additive subgroup of $R$, is closed under multiplication, and contains $1$. 

\defn

\begin{enumerate}

\item

A subset $I \subseteq R$ is a \underline{left ideal} of $R$ if $I$ is an additive subgroup of $R$ such that $R \cdot I \subseteq I$, i.e. for all $r \in R, s \in I$, $rs \in I$. 

A subset $I \subseteq R$ is a \underline{right ideal} of $R$ if $I$ is an additive subgroup of $R$ such that $I \cdot R \subseteq I$, i.e. for all $s \in I, r \in R$, $sr \in I$. 

An \underline{ideal} is both a left and right ideal (a ``two-sided" ideal). 

\item Suppose $I$ is an ideal. Then the \underline{quotient} 
\[
R/I \eqdef \{\bar{r} = r + I: r \in R\}
\]
inherits an addition and multiplication from $R:$ 

\begin{align*}
(r + I) + (r' + I) & = (r + r' + I) \\
(r + I)\cdot(r' + I) & = (r\cdot r' + I)\\
\end{align*}
making it a ring with identity $1 + I$. This is called the \underline{quotient ring} or \underline{residue class}. Note that the quotient map
\begin{align*}
\pi:R\to R/I \\
r\mapsto\bar{r} = r + I \\
\end{align*}
is a ring homomorphism. 


\end{enumerate}

Two Exercises: 

\begin{enumerate}
\item (``Correspondence Theorem")

Let $R$ be a ring, $I\subseteq R$ an ideal, and $\phi:R\to R/I$ the quotient map. Then there is a bijective orderpreserving correspondence between $\{J \subset R, J$ is an ideal, $I \subseteq J \subseteq R\}$ and ideals of $R/I$, which sends $J$ to $\bar{J} = \phi(J) = (I + J)/I$. 

\item (``First Isomorphism Theorem")

Let $\phi:R\to S$ be a ring homomorphism. Then 
\begin{itemize}
\item $\ker(\phi) = \{r\in R: \phi(R) = 1_S\}\subset R$ is an ideal of $R$.
\item $\Im(\phi) = \{s \in S: \exists r \in R s.t. s = \phi(r)\}$ is an ideal of $S$.
\item $\phi$ induces a ring isomorphism (i.e. a bijective ring homomorphism whose inverse is also a ring homomorphism) 
\[
R/\ker(\phi) \to \Im(\phi)
\]
given by
\[
\bar{r}\mapsto\phi(r)
\]

\end{itemize}

\end{enumerate}

\section*{Lecture 2, 1/11/23} 

\defn 
\begin{enumerate}

\item

A \underline{zero divisor} in a ring $R$ is an element $x \in R$ such that there exists a $y \in R, y\neq0$, such that $xy = yx = 0$. 

\underline{Examples:}

$\bar{2} \in \Z/6\Z$ is a zero divisor. 0 is \underline{always} a zero divisor unless $R = \{0\}$. 

\item A nonzero commutative ring $R$ without nonzero zero divisors is called an \underline{integral domain}. 

\underline{Examples:} $\Z$, all polynomial rings, $\Z/p\Z$ where $p$ is prime are all integral domains. 

\item An element $r \in R$ is \underline{nilpotent} if $r^n = 0$ for some $n > 0$. 

\underline{Note:} $r$ nilpotent $\implies r$ a zero divisor. The converse is false (e.g. $\bar{2}\in\Z/6\Z$)

\item An element $R \in R$ is \underline{a unit} (or \underline{invertible}) if there exists an $s \in R$ such that $rs = sr = 1$. 

\underline{Examples:} $\bar{5} \in \Z/6\Z$. A matrix $A \in M_{n\times n}(R)$ with entries in a ring $R$ is a unit in the matrix ring if and only if $\det(A)$ is a unit in $R$.

Note that $R^\times$, denoting the units, is a multiplicative group. 

\item Let $x \in R$ The multiples $r\cdot x$ (or $x \cdot r$) form a left (or right) ideal, denoted \underline{$Rx$} (or \underline{$xR$}). If $R$ is commutative, we write \underline{$(x)$} for $Rx = xR$. 

\item A \underline{field} is a nonzero commutative ring $R$ in which every nonzero element is a unit. 

Note: Since being a unit implies \underline{not} being a zero divisor, all fields are integral domains. The converse does not hold, and $\Z$ is a witness to its failure. 

\end{enumerate}

\prop

Let $R$ be a nonzero commutative ring. Then the following are equivalent: 

\begin{enumerate}
\item $R$ is a field. 
\item The only ideals are $\{0\}$ and $R$.
\item Every ring homomorphism $R\to S$ with $S \neq\{0\}$ is injective
\end{enumerate}

\proof

\begin{itemize}
\item[$1\to2$] Suppose $R$ is a field. Let $I$ be a nonzero ideal. Then there exists $x \in I$ nonzero. Since $R$ is a field, $x$ is a unit. Thus $R = (x) \subseteq I$. So $I = R$. 

\item[$2\to3$]For $S \neq\{0\}$, let $\phi:R\to S$ be a ring homomorphism. Then $\ker(\phi)\subseteq R$ is a proper ideal (since $\phi(1)=1\neq0$). By 2, $\ker(\phi) = \{0\}$, so $\phi$ is injective. 

\item[$3\to1$] Let $x \in R$ be nonzero. We want to show that $X$ is a unit. Consider the quotient map $\phi:R\to R/(x)$. Notice $\ker(\phi) = (x) \neq\{0\}$, i.e. $\phi$ is not injective. By 3, $R/(x) \cong \{0\}$, so $(x) = R$, i.e. $x \in R^\times$. 
\end{itemize}

\defn

Let $R$ be a commutative ring. 

\begin{enumerate}
\item An ideal $I$ is a \underline{prime ideal} if it is a proper ideal and for all $r, s \in R$, $rs \in I$ if and only if $r \in I, s \in I$, or both.

Note $p \in \N$ is prime if and only if for all $a, b \in \Z$, $p\mid ab$ implies $p \mid a$, $p \mid b$, or both. 

Equivalently, $ab \in (p)$ implies $a \in (p), b\in(p)$, or both.  

\item An ideal $I\subset R$ is a \underline{maximal ideal} if $I$ is proper and, if $J$ is an ideal such that $I \subset J \subset R$, then $J = I$ or $J = R$. 
\end{enumerate}

\prop Let $R$ be a commutatie ring and $I$ a proper ideal. Then $R/I$ is an integral domin if and only if $I$ is a prime ideal. 

\proof

\subsection*{$=>$} Let $r, s \in R$ such that $rs \in I$. We want to show that $r \in I$ or $s \in I$. Then the elements $\bar{r},\bar{s} \in R/I$ are such that $\bar{r}\cdot\bar{s} = \bar{rs} = \bar{0}$. Since $R/I$ is an integral domain, either $\bar{r} = \bar{0}$ or $\bar{s} = \bar{0}$, or both. In other words, either $r \in I$, or $s \in I$. 

\subsection*{$<=$} Since $I\neq R$, the ring $R/I$ is nonzero. Choose $\bar{r},\bar{s} \in R/I$ such that $\bar{r}\cdot\bar{s} =\bar{0}$. We want to show that either $\bar{r} = \bar{0}, \bar{s} = \bar{0}$, or both . Since $\bar{rs} = \bar{r}\cdot\bar{s}=\bar{0}$, $rs \in I$. Since $I$ is a prime ideal, either $r \in I$ or $s \in I$, or both. So $\bar{r} = \bar{0}, \bar{s} = \bar{0}$, or both. Thus, $R/I$ is an integral domain. 

\qed

\section*{Lecture 3, 1/13/23}

\prop

Let $R$ be a nonzero commutative ring, and $I\subset R$ a proper ideal. Then $R/I$ is a field if and only if $I$ is a maximal ideal.

\proof

\subsection*{$=>$}

Suppose that $J\subset R$ is an ideal with $I \subset J \subset R$. Suppose that these inclusions are strict i.e. $I\subsetneq J \subsetneq R$. Let $X \in J\setminus I$, so $\underbrace{\bar{x}}_{\eqdef x + I} \neq\bar{0}\in R/I$. Then by assumption there exists $\bar{y} \in R/I$ such that $\underbrace{\bar{x}\cdot\bar{y}}_{=\bar{xy}} = \bar{1}\in R/I$. So, $1 - xy \in I \subset J$. But $x \in J$ and $J$ is an ideal, so $xy \in J$. So, $1 \in J$, so $J = R$.

\subsection*{$<=$}

Let $\bar{x} \neq \bar{0}\in R/I$ for some $x \not\in I$. Consider $J = \underbrace{\{a + rx \mid a \in I, r \in R\}}_{I + (x)}$. Then we see that $J$ is an ideal of $R$ containing $I$, i.e. $I \subset J$. Further, $X\neq J$ because $x \in J\setminus I$. By maximality, we must conclude that $J = R$. 

In particular, $1 = a + rx$ for some elements $a \in I, r \in R$. So in $R/I$, $\bar{1} = \bar{a + rx} = \bar{a} + \bar{rx}$. $a \in I$ though, so $\bar{1} = \bar{rx}$, so $\bar{x}$ is indeed a unit of $R/I$. 

\qed

\cor

In a nonzero commutative ring $R$, all maximal ideals are prime ideals. 

\proof

Fields are integral domains

\qed

\rem The converse is \underline{not} true. $\Z$ is an integral domain with prime ideal $(0)$, but this ideal is not maximal, as $\Z/(0) \cong \Z$ is not a field!

For another counterexample, let $R = \Z[x]$, and consider the ideal $I = \{$ all polynomials with constant term equal to $ 0\} = (x)$.  This ideal is prime, since $R/I \cong \Z$ via $\bar{f(x)} \mapsto f(0)$ is an integral domain. But this ideal is not maximal, because $\Z$ is not a field. 

Note: $I$ is strictly contained in the ideal of polynomials with even constant term, which is a strict subset of $R = \Z[x]$.

\subsection*{\underline{The existence of maximal ideals}}

\defn

A \underline{partial ordering} on a set $A$ is a relation $\leq$ satisfying 
\begin{enumerate}
\item $x \leq x$ for all $x \in A$
\item $x \leq y, y \leq x \implies x = y$ for all $x, y \in A$
\item If $x \leq y$ and $y \leq z$, then $x \leq z$. 
\end{enumerate}

\rem This definition does \underline{not} necessitate that all elements $x, y$ are comparable. 

\defn 

Let $(A, \leq)$ be a partially ordered set. 
\begin{itemize}
\item Let $B \subset A$ and $x \in A$. We say $x$ is an \underline{upper bound} for $B$ if $y \leq x$ for all $y \in B$. 
\item A subset $B\subset A$ is called a \underline{chain} if $\leq$ is a \underline{total ordering} on $B$ (that is, all elements of $B$ are comparable to all other elements of $B$)
\end{itemize}

\lem (Zorn's Lemma)

Let $A$ be a nonempty partially ordered set in which every chain has an upper bound. Then $A$ has a \underline{maximal element}, i.e. an element $x \in A$ such that for all $y \in A$, $y$ cannot be compared to $x$, or $y \leq x$. 

\proof

This is actually equivalent to the axiom of choice!

\qed

\thm 

Let $R$ be a nonzero commutative ring, and let $I\subset R$ be a proper ideal. Then there exists a maximal ideal $J \subset R$ containing $I$. 

\proof

Consider the \underline{poset} (Partially Ordered SET) $A$ consisting of all proper ideals containing $I$, partially ordered by inclusion. 

Then: 
\begin{itemize}
\item $A\neq\varnothing$, since $I \in A$
\item If ${a_{\lambda}}_{\lambda\in\Lambda}$ is a chain in $A$, then $\cup_{\lambda\in\Lambda}a_{\lambda} \in A$ gives an upper bound for the chain. 

Note: In general, the union of ideals is \underline{not} an ideal. However, this is an increasing union of ideals, which does give an ideal. 

\end{itemize}

By Zorn's lemma, there exists a maximal element of $A$, which will be a maximal ideal containing $I$. 

\qed

\cor

Let $R$ be a nonzero commutative ring. Then $R$ contains some maximal ideal. 

\proof

Take $I = (0)$ in the previous proposition. 

\qed

\section*{Lecture 4, 1/18/23}

\underline{From now on:}

All rings $R$ will be assumed to be commutative with 1.

\defn
\begin{itemize}
\item Let $A_1, \dots, A_t\subset R$ be ideals, then their \underline{sum} is the ideal 
\[
A_1 + \cdots + A_t \eqdef \{a_1 + \cdots + a_t \mid a_i \in A_i\}
\]
This is the smallest ideal containing $A_i$ for all $i$. 

\item If $x_1, \dots, x_t \in R$, the \underline{ideal generated by} them
\begin{align*}
(x_1,\dots, x_t)  & \eqdef \{\sum_{i=1}^tr_ix_i \mid r_i \in R\}\\
						 & = (x_1) + \cdots + (x_t) \\
\end{align*}

\item More generally, if $\{x_i\}_{i\in I}\subset R$ is some collection of elements of $R$, the ideal they generate is
\begin{align*}
\sum_{i\in I}(x_i)\eqdef \{\text{all finite linear combinations of elements of }\{x_i\}_{i\in I}\} 
\end{align*}

\item If $A, B \subset R$ are ideals, then their \underline{product} is the ideal
\[
AB \eqdef \{\sum_i^n a_ib_i \mid a_i\in A, b_i \in B, n < \oo\}
\]
this is the ideal generated by $\{ab\mid a\in A, b \in B\}$. Note $A\cap B \subseteq AB$, with equality if $A + B = R$

\exm Let $R = \Z$. Then $(a) + (b) = (\gcd(a,b))$, $(a)\cap (b) = (\lcm(a, b))$. When $a, b$ are coprime, then $(a) + (b) = (1) = \Z$, and $(a) \cap (b) = (ab)$.

\defn A ring $R$ with exactly 1 maximal ideal $\mathfrak{M}$ is called a \underline{local ring} (often denoted $(R, \mathfrak{M})$).

\end{itemize}


\exm 

\begin{itemize}
\item $(\R, \{0\})$ is a local ring (in fact any field is) with maximal ideal $\{0\}$ 
\item $(\Z/(p^n), p\Z/(p^n))$ is a local ring for any prime $p$ and $n > 0$
\end{itemize}

\lem

Let $R$ be a ring and $\mathfrak{M}\subsetneq R$ a proper ideal such that every $x \in R\setminus\mathfrak{M}$ is a unit. Then $R$ $(R, \mathfrak{M})$ is a local ring. 

\proof

We want to show that $\mathfrak{M}$ is a maximal ideal of $R$, and is the unique such maximal ideal. 

Let $I \subsetneq R$ be a proper ideal. If it contained a unit, then $I = R$, which by hypothesis is not true. So, $I$ contains no units. So, it must exist entirely within $\mathfrak{M}$. So, $\mathfrak{M}$ is a unique maximal ideal. 

\qed

\prop Let $R$ be a ring and $\mathfrak{M}\subset R$ a maximal ideal. Then $(R, \mathfrak{M})$ is a local ring if and only if every $x \in 1 + \mathfrak{M}$ is a unit in $R$.

Note: $1 + \mathfrak{M} = \{1 + y \mid y \in \mathfrak{M}\}\subset R$ is closed under multiplication. 

\proof

\subsection*{$=>$}

Suppose $(R, \mk{M})$ is a local ring, and suppose for the sake of contradiction that $x \in 1 + \mk{M}$ is NOT a unit. Note $x = 1 + y, y \in \mk{M}$. By hypothesis, $(1 + y)$ is a proper ideal in $R$, because $1 + y$ is not a unit. 

So $(1 + y) \subset\mk{M}$. In particular, $1 + y \in \mk{M}$. But $y \in \mk{M}$, so $1 \in \mk{M}$. Oopsy! Contradiction. So, we have proven one direction. 

\subsection*{$<=$}

Let $x \in R\setminus\mk{M}$. Since $\mc{M}$ is maximal, $\mk{M} + (x) = R$. So, $1 = y + rx$ for some $y \in \mk{M}, r \in R$. Thus $rx = 1 - y \in \mk{M}$, so $rx$ is a unit by hypothesis, meaning there is a $z$ such that $(rx)z = 1 = x(rz)$, so $x$ is a unit. 

By the lemma, this shows $(R, \mk{M})$ is a local ring. 

\qed

\defn

Let $R$ be a ring. Then the \underline{nilradical} is defined as
\[
\mc{N}\eqdef\{\text{all nilpotent elements of }R\}
\]

\prop

The nilradical is an ideal, and the quotient ring $R/\mc{N}$ has no nonzero nilpotent elements. 

\proof

If $x \in \mc{N}$, then clearly $rx \in \mc{N}$ for any $r \in R$. Suppose $x, y \in \mc{N}$. Then for some $n, m$, $x^n = y^m = 0$. Then, by the binomial theorem, 
\[
(x - y)^{n + m} = \sum_{i=0}^{n + m}x^i(-y)^{n + m - i}{n + m\choose i}
\]
for all $i$, at least one of $x^i, y^{n + m - i}$ is zero. So, this sum is zero, so $(x - y) \in \mc{N}$. 

Now, suppose $\bar{x}\in R/\mc{M}$. We want to show that $\bar{x} = 0$. Then $\bar{x}^n = 0$ for some $n$, so $x^n \in \mc{N}$ for some $n$. But then $x^n$ is nilpotent, so $x$ is nilpotent. So, $\bar{x} = 0$. 

\qed

\prop

The nilradical of $R$ is the intersection of all prime ideals of $R$. 

\proof

Let $x \in \mc{N}$. Then $x^n = 0 \in \ms{P}$ for any prime ideal $\ms{P} \subset R$. So, $x \in \ms{P}$, so $\mc{N}$ is contained in the intersection. We will do the other inclusion next time. 

\qed

\section*{Lecture 5, 1/20/23}

We will continue the proof. Suppose $f\not\in \ms{N}$. We wish to show that $f\not\in\ms{P}$ for some prime ideal $\ms{P}$. 

Let $\Sigma = \{$ideals $I \subset R \mid f^n\not\in I$ for all $n > 0 \}$.

Then $\Sigma\neq\varnothing$, as it contains $0$ by hypothesis. Further, we can check that any chain has an upper bound (exercise). 

By Zorn's Lemma, there exists a maximal $\ms{P}\in\Sigma$. 

It remains to show $\ms{P}$ is a prime ideal. 

Suppose that $x, y \not\in\ms{P}$. Then $\ms{P}\subsetneq\ms{P}+(x)$ and $\ms{P}\subsetneq\ms{P} + (y)$. But by maximality of $\ms{P}$, $\ms{P} + (x), \ms{P} + (y) \not\in\Sigma$. So, for some $n, m$, $f^n\in\ms{P}+(x), f^m \in \ms{P}+(y)$. 

So, 
\[
f^{n + m} \in(\ms{P}+(x))(\ms{P}+(y))\subset \ms{P}+(xy)
\]
Thus $\ms{P}+(xy)\not\in\Sigma$. But $\ms{P}\in\Sigma$, so we are forced to conclude $(xy)\not\in\Sigma$, so $xy\not\in\ms{P}$. 

\qed

\defn We say that the ideals $I, J \subset R$ are \underline{coprime} if $I + J = R$. 

\exm

$(m), (n) \in \Z$ are coprime iff $\gcd(m, n) = 1$, since $(m) + (n) = (d)$, where $d = \gcd(m, n)$. 

\defn

Let $R_1, \dots, R_m$ be rings. Their \underline{direct product} is defined as
\[
R_1\times\cdots\times R_n = \{(x_1, \dots, x_n)\mid x_i \in R\}
\]
forms a ring with addition and multiplication defined component-wise. 

\thm (Chinese Remainder Theorem) 

Let $I_1, \dots, I_n$ be ideals in a ring $R$, which are pairwise coprime. 

Then
\begin{enumerate}[label=(\roman*)]
\item $I_1\cdots I_n = I_1 \cap \cdots \cap I_n$
\item The map $\phi:R\to R/I_n\times\cdots R/I_n$ given by 
\[
x\mapsto(x\mod I_1, \dots, x\mod I_n)
\]
induces a ring isomorphism
\[
\frac{R}{I_1\cdots I_m} \cong \frac{R}{I_1}\times\cdots\times\frac{R}{I_n}
\]

\end{enumerate}

\proof

\begin{enumerate}[label=(\roman*)]
\item We will use induction on $n \geq 2$. For the base case, we know that $I_1\cdot I_2 \subseteq I_1\cap I_2$. Conversely, suppose $y \in I_1 \cap I_2$. Since $I_1 + I_2 = R$, we can write $1 = x_1 + x_2$, with $x_i\in I_i$. So
\begin{align*}
y & = y \cdot 1 \\
  & = y \cdot(x_1 + x_2) \\
  & = \underbrace{y}_{\in I_2}\cdot\underbrace{x_1}_{\in I_1} + \underbrace{y}_{\in I_1}\cdot\underbrace{x_2}_{\in I_2} \\
  & \in I_1\cdot I_2 \\
\end{align*}
Now suppose $n > 2$ and we have $I_1\cdots I_{n - 1} = I_1 \cap \cdots \cap I_{n - 1}$. 

Let $J = I_1\cdots I_n$. By hypothesis, for $i =1, \dots, n - 1$, we have $I_i + I_n = R$, so $1 = \underbrace{x_i}_{\in I_i} + \underbrace{y_i}_{\in I_n}$

So $J \ni x_1\cdots x_{n - 1} = (1 - y_1)\cdots(1 - y_{n - 1}) = (1 - $some element in $I_n) \equiv 1 \mod I_n$

\underline{Notation:} We write $x \equiv y \mod I$ if $x - y \in I$ for some $x, y \in R$, $I \subset R$.

Thus we have $1 = ($ element of $J) + ($ element of $I_m)$, so $R = J + I_n$, so $J$ and $I_n$ are coprime. 

By the base case, we have 
\[
\underbrace{J\cdot I_n}_{= I_1\cdots I_{n - 1}\cdot I_n} = \underbrace{J\cap I_n}_{=(I_1 \cap \cdots \cap I_{n - 1})\cap _n}
\] 

We have thus proven part (i). 

\item $\phi:R\to \frac{R}{I_1}\times\cdots\times\frac{R}{I_m}$ is clearly a ring homomorphism, since every component of $\phi$ is. 

To show $\phi$ is surjective, we will show that there exists some $x \in R$ such that $\phi(x) = (1, 0,\dots, 0)$. 

A similar argument would show that there exists $x_i \in R$ such that $\phi(x_i) = \overbrace{(0, \dots, \underbrace{1}_{i\text{th slot}}, \dots, 0)}^{\eqdef e_i}$ and then given any $r = (\bar{r}_1, \dots, \bar{r}_m) \in \frac{R}{I_1}\times\cdots\times\frac{R}{I_n}$, we have
\[
\phi\left(\sum_{i=1}^nr_ix_i\right) = \sum_{i=1}^n\bar{r}_i\phi(x_i) = \sum_{i=1}^n\bar{r}_ie_i = (\bar{r}_1,\dots,\bar{r}_m) = r
\]

So we will now show surjectivity. For $i = 2, \dots, n$, we have $I_1 + I_i = R$, so $1 = \underbrace{u_i}_{\in I_1} + \underbrace{v_i}_{\in I_i}$. 

Then 
\[
x \eqdef v_2\cdots v_n = (1 - u_2)\cdots(1 - u_n)\equiv \begin{cases}
1 & \mod I_1 \\0 & \mod I_i, i \geq 2 \\
\end{cases}
\]
So $\phi(x) = (1, 0, \dots, 0) \in \frac{R}{I_1}\times\cdots\times\frac{R}{I_n}$. Thus we have shown surjectivity of $\phi$. 

Finally,
\begin{align*}
\ker(\phi) & = \{x\in R \mid x \mod I_i \equiv 0 \forall i\} \\
			  & = \{x \in R \mid x \in I_i \forall i \} \\
			  & = \cap_{i=1}^nI_i = I_1\cdots I_n \\
\end{align*}
So by the first isomorphism theorem for rings (exercise), $\phi$ induces the claimed isomorphism.  


\end{enumerate}

This completes the proof. 

\qed

\section*{Lecture 6, 1/23/23}

\subsection*{\underline{Extension and contraction of ideals}}

\defn

Let $f:R\to S$ be a ring homomorphism, and $I\subset R$ and $J \subset S$ be ideals. 

\begin{itemize}

\item The \underline{contraction of $J$} is the ideal 
\[
J^c = f^{-1}(J)\subset R.
\]
\item The \underline{extension of $I$} is the ideal generated by $f(I)$:
\[
I^e = (f(I)) = \{\sum_{i=1}^ns_if(x_i) \mid n \in \N, s_i \in S, x_i \in I\} \subset S
\]

\end{itemize}

\rem

\begin{enumerate}

\item If $I \subset R$ is an ideal, then $f(I)\subset S$ is not necessarily an ideal. For example, consider the inclusion $f:\Z\hookrightarrow\Q$, then $f(\underbrace{(n)}_{\neq0}) = (n) = n\Z\subset\Q$ is not an ideal. 

\item If $J \subset S$ is a prime ideal, then so is $J^c\subset R$: indeed, the composition 
\[
\begin{tikzcd}
R\ar[r, "f"]&S\ar[r, "\phi"]& S/J
\end{tikzcd}
\]
has the kernel $f^{-1}(J) = J^c$, so it induces an injection 
\[
R/J^c\hookrightarrow S/J
\]
$S/J$ is an integral domain, so $R/J^c$ must be as well 

\item If $I\subset R$ is a prime ideal, then $I^e\subset J$ is \underline{not} necessarily a prime ideal. For example, consider $f:\Z\hookrightarrow\Q$ and $I = (\underbrace{p}_{\text{prime}})$, we have $I^e = (p\Z) = \Q$, so is not prime. 

\item Any ring homomorphism $f:R\to S$ can be factored as 
\[
\begin{tikzcd}
R\ar[r, "\phi"] & f(R) \ar[r, hook, "\iota"] & S \\
\end{tikzcd}
\]
Note that by first isomorphism theorem, $f(R) \cong R/\ker(f)$. 

\begin{itemize}
\item For $\phi$, we know that there is a bijection between the prime ideals in $R$ containing $\ker(f)$ and the prime ideals in $f(R)$ by the correspondence theorem. 

\item For the inclusion map, the situation is more complicated. 

\exm Consider $\Z\hookrightarrow\Z[i] = \{a + bi \mid a, b \in \Z\}$. Then a prime ideal $(p)\subset\Z$ may or may not stay prime in $\Z[i]$.
\begin{enumerate}[label=(\roman*)] 
\item If $p \equiv 1 \mod 4$, then $(p)^e$ is the product of two prime ideals in $\Z[i]$ (e.g $(5)^e = (2 + i)(2 - i)$).

\item If $p \equiv 3 \mod 4$, then $(p)^e$ is a prime ideal in $\Z[i]$. 

\item $(2)^e = (1 + i)^2$, the square of a prime ideal in $\Z[i]$.
\end{enumerate}
\end{itemize}



\end{enumerate}

\prop

Let $f:R\to S$ be a ring homomorphism, and $I \subset R, J \subset S$ ideals. Then:

\begin{enumerate}

\item $I \subset (I^e)^c$ and $J \supset (J^c)^e$.

\item $I^e = I^{ece}$ and similarly $J = J^{cec}$.

\item Let $C = \{$contracted ideals (from $S$) in $R\}$ and $E = \{$extended ideals (from $R$) in $S\}$. Then we have
\begin{align*}
C = \{I\subset R \mid I^{ec} = I \} \\
E = \{J\subset S \mid J^{ce} = J \} \\
|C| = |E| \\
\end{align*}
The last line says that $C, E$ are in bijection, with $C\to E$ acting by $I\mapsto I^e$, and $E\to C$ acting by $J\mapsto J^c$. 


\end{enumerate}

\proof

\begin{enumerate}

\item We have $I \ni x \in f^{-1}(\overbrace{f(x)}^{\in I^e})$ so $I \subset I^{ec}$. On the other hand, let $y \in J^{ce}$. We can write $y = \sum_is_if(x_i)$, $s_i \in S, x_i \in J^c = f^{-1}(J)$.  So $J^{ce} \subset J$.

\item Immediate from part (1): $I \subset I^{ec} \implies I^e\subset I^{ece} = (I^e)^{ce} \subset I^e$, so $I^e = I^{ece}$. A similar argument gives $J^c = J^{cec}$. 

\item Suppose $I \in C$ is a contracted ideal. Then $I = J^c$ for some ideal $J \subset S$. Then $I^{ec} = J^{cec} = J^c = I$, so $C \subset \{I \subset R \mid I^{ec} = I \}$. Conversely, every ideal in $\{I \subset R \mid I^{ec} = I\}$ is a contracted ideal, so we get equality. 

Similarly, we see that $E = \{J \subset S \mid J^{ec} = J\}$

\end{enumerate}

\qed

\section*{Lecture 7, 1/25/23}

\subsection*{\underline{Ring of fractions and localization}}

\underline{Motivation:} Recall how we construct $\Q$ from $\Z$. We take all ordered pairs $(a, s), a, s \in \Z, s \neq 0$, and set up the equivalence relation $(a, s) \sim (b, t)$ if $at = sb$. Then $\Q \eqdef \{$ all such equivalence classes$\}$

\defn

Let $R$ be a commutative ring with 1. A \underline{multiplicative set $S \subseteq R$} is a subset of $R$ which contains 1 and is closed under multiplication. That is, $1 \in S$, and $s, t \in S \implies st \in S$. 

\exm
\,

\begin{enumerate}

\item If $\mk{p} \subset R$ is a prime ideal, then $S = R\setminus\mk{p}$ is a multiplicative sets. 

\item If $R$ is an integral domain then $S = R\setminus\{0\}$ is a multiplicative set. 

\item For any $f \in R$, $S = \{1, f, f^2, \dots\}$ is a multiplicative set. 

\end{enumerate}

Let $S \subset R$ be a multiplicative set, and define the relation
\[
(a, s) \sim (\ell, t) \iff (at - sb)u = 0
\]
for some $u \in S$. 

\underline{Exercise:} Show that this is indeed an equivalence relation. 

\defn

Let $\frac{a}{s}$ denote the equivalence class of $(a, s) \in R\times S$. Then
\[
S^{-1}R\eqdef\{\frac{a}{s}\mid(a, b)\in R\times S \}
\]
with addition and multiplication defined by 
\begin{align*}
\frac{a}{s} + \frac{\ell}{t} & \eqdef \frac{at + s\ell}{st} \\
\frac{a}{s}\cdot\frac{\ell}{t} & \eqdef \frac{a\ell}{st} \\
\end{align*}

We say that $S^{-1}R$ is \underline{the ring of fractions of $R$ with respect to $S$}, or alternatively the \underline{localization of $R$ at $S$}.

\underline{Note:} We have a ring homomorphism $f:R\to S^{-1}R$ acting by 
\[
r\mapsto\frac{r}{1}
\]
such that $f(s)$ is a unit in $S^{-1}R$ for all $s \in S$, since $\frac{1}{s} \in S^{-1}R$, and $\frac{1}{s}\frac{s}{1} = 1$.

\prop (Universal property of $S^{-1}R$)

Let $g:R\to R'$ be a ring homomorphism such that $g(s)$ is a unit in $R'$ for all $s \in S$. Then there exists a unique ring homomorphism $h:S^{-1}R\to R'$ such that the diagram
\[
\begin{tikzcd}
R\ar[d, "f"'] \ar[r, "g"] & R' \\
S^{-1}R\ar[ur, "\exists!h"', dotted] \\
\end{tikzcd}
\] 
commutes. 

\proof

Suppose first that such $h$ exists. Then for any $r \in R$, 

\[
h(\frac{r}{1}) = h(f(r)) = g(r)
\]
so for any $s \in S,$

\[
h(\frac{1}{s}) = h((\frac{s}{1})^{-1}) = h(\frac{s}{1})^{-1} = h(f(s))^{-1} = g(s)^{-1}
\]
So for $\frac{r}{s} \in S^{-1}R$, we must have
\[
h(\frac{r}{s}) = h)(\frac{r}{1})h(\frac{1}{s}) = g(r)g(s)^{-1}
\]
To prove the existence of $h$, set $h(\frac{r}{s}) \eqdef g(r)g(s)^{-1}$. Then $h$ will be a ring homomorphism satisfying $g = h \circ f$, so long as $h$ is well-defined, so we will check that now. 

Suppose $\frac{r}{s} = \frac{r'}{s'}$. Then by definition $(rs' - r's)u = 0$ for some $u \in S$. So $(g(r)g(s') - g(r')g(s))g(u) = g(0) = 0$. $g(u) \in (R')^\times$, so is not a zero divisor, so $g(r)g(s') - g(r')g(s) = 0$, so $g(r)g(s)^{-1} = g(r')g(s')^{-1}$.

\qed

\exm

Let $\mk{p}\subset R$ be a prime ideal, and $S = R\setminus\mk{p}$ (a multiplicative set). Then we write $R_{\mk{p}}$ for $S^{-1}R$, and call it the localization of $R$ at $\mk{p}$. 

\underline{Note:} The set $_{\mk{p}}R_{\mk{p}}\eqdef\{\frac{a}{s}\mid a\in\mk{p}, s \in S\} \subset R_\mk{p}$ is a proper ideal in $R_\mk{p}$, and
\[
\frac{a}{s}\not\in _\mk{p}R_{\mk{p}} \implies a\not\in\mk{p}
\]
So $\frac{s}{a} \in R_\mk{p}$, so $\frac{a}{s}$ is a unit in $R_{\mk{p}}$. 

So $R_\mk{p}$ is a local ring, with $_\mk{p}R_\mk{p}$ the unique maximal ideal by a lemma from lecture 4. 

\exm

If $R = \Z,$ $\mk{p} = (p)$ with $p$ a prime, then $\Z_{(p)} = \{\frac{a}{s}\mid p\nmid s\}\subset\Q$ 

\section*{8, 1/27/23}

\prop

Let $S \subset R$ be a multiplicative subset of a ring $R$, and $f:R\to S^{-1}R$ the corresponding localization, sending $r$ to $\frac{1}{r}$. Then
\begin{enumerate}[label=(\roman*)]

\item Every ideal in $S^{-1}R$ is extended. 

\item An ideal $I \subset R$ is contracted iff for all $s \in S$, $\bar{s}\in \frac{R}{I}$ is NOT a zero divisor. 

\item We have a bijection between the prime ideals in $S^{-1}R$ and the prime ideals of $R$ which are disjoint from $S$. This bijection is given by extension and contraction. 

\end{enumerate}


\proof

\begin{enumerate}[label=(\roman*)]

\item Let $J \subset S^{-1}R$ be an ideal. We want to show that $J$ is extended, so it is enough to show $J \subset J^{ce}$.

Pick $\frac{r}{s} \in J$. Then $\frac{r}{1} = \frac{s}{1}\cdot\frac{r}{s}\in J$, so $r \in f^{-1}(J) = J^c$. We can then write $\frac{r}{s} = \frac{1}{s}\cdot\frac{r}{1} \in J^{ce}$.

\item Let $I \subset R$ be an ideal. It is enough to show 
\[
(I^{ec} \subset I) \iff \forall s \in S, \bar{s}\in\frac{R}{I}\text{ is not a zero divisor}
\]
Let $x \in I^{ec} = f^{-1}(I^e)$. Then 
\begin{align*}
f(x) \in I^e & = \{\text{all finite linear combinations }\sum_i\frac{r_i}{s_i}\overbrace{f(x_i)}^{=\frac{x_i}{1}} \mid r_i \in R, s_i \in S, x_i \in I \} \\
				 & = \{\frac{r}{s} \mid r \in I, s \in S \} \\
				 & \eqdef S^{-1}I \\
\end{align*}
So $\frac{x}{1} = \frac{r}{s}$ for some $r \in I, s \in S$, so $(xs - r)u = 0$ for some $u \in S$, so $x\underbrace{su}_{\in S} = \underbrace{ru}_{\in I}$. So $\bar{x}\cdot\bar{su} = \bar{0}\in \frac{R}{I}$.

\underline{Note:} If $su \in I$, then $\frac{su}{1}$ is a unit in $I^e$. So $I^e = S^{-1}R$, so $I^{ec} = R$.  

If $\bar{su}\neq\bar{0} \in \frac{R}{I}$ (i.e. $su \not\in I$) then by hypothesis on elements in $S$, $\bar{x} = 0 \in \frac{R}{I}$, i.e. $x \in I$, so $I^{ec} \subset I$. 

Now for the converse.

Suppose there exists $s \in S$ such that $\bar{s}\in\frac{R}{I}$ is a zero divisor. We want to show that $I$ is not contracted, i.e. there exists an $x \in I^{ec}\setminus I$. 

By hypothesis, there exists $\bar{x}\neq\bar{0}\in \frac{R}{I}$ (i.e. $x\not\in I$) such that $\bar{x}\cdot\bar{s} = \bar{0}\in\frac{R}{I}$. So $xs = y$ for some $y \in I$, so $\frac{x}{1} = \frac{y}{s}\in S^{-1}I = I^e$. So $x \in f^{-1}(I^e) = I^{ec}$.   

\item Suppose $\mk{q} \subset S^{-1}R$ is a prime ideal. Then, by part (i), $\mk{q} = S^{-1}\mk{p} = \mk{p}^e$ for some ideal $\mk{p}\subset R$. So $\mk{q}^c = \mk{p}^{ec} \supset \mk{p}$. 

\claim 

$\mk{p}^{ec} \subset \mk{p}$. 

\proof

Indeed, we have $\mk{p} \cap S = \varnothing$, since $s \in \mk{p} \cap S$ implies $1 = \frac{s}{s} \in S^{-1}\mk{p} = \mk{q}$, so $s\not\in\mk{p}$ for all $s \in S$. So, $\bar{s}\neq\bar{0}\in\frac{R}{\mk{p}}$ for all $s \in S$. 

So $\bar{s}$ is not a zero divisor in $\frac{R}{\mk{p}}$ (because it's an integral domain), so $\mk{p}^{ec} \subset \mk{p}$, as shown in proof of part (ii). 

\qed

Thus $\mk{q} = S^{-1}\mk{p}, \mk{p} = \mk{q}^c$, and $\mk{p} \cap S = \varnothing$, so we get an injection 
\[
\{\text{prime ideals }\mk{p}\subset R\text{ with }\mk{p} \cap S = \varnothing\} \hookleftarrow \{\text{prime ideals in }S^{-1}R \}
\]
given by 
\[
\mk{q} = S^{-1}\mk{p} \mapsto \mk{q}^c = \mk{p}
\]
Conversely, let $\mk{p} \subset R$ be a prime ideal with $\mk{p} \cap S = \varnothing$ (we want to show that $\mk{p}^e = S^{-1}\mk{p}$ is a prime ideal in $S^{-1}R$). 

Let $\bar{S} = \{\bar{s}\in\frac{R}{\mk{p}} \mid s \in S\} \subset \frac{R}{\mk{p}}$. This is a multiplicative subset. Then the ring homomorphism $S^{-1}R\to \bar{S}^{-1}(\frac{R}{\mk{P}})$ given by $\frac{r}{s} \mapsto \frac{\bar{r}}{\bar{s}}$ induces an isomorphism
\[
\frac{S^{-1}R}{S^{-1}\mk{p}} \to \bar{S}^{-1}(\frac{R}{\mk{p}})
\]
So we are done if we can show that $\bar{S}^{-1}(\frac{R}{\mk{p}})$ is an integral domain. 

But this follows from

\begin{itemize}

\item $\mk{p} \cap S = \varnothing$, so $S^{-1}\mk{p}\subsetneq S^{-1}R$, so $\bar{S}^{-1}(\frac{R}{\mk{p}})\neq(0)$

\item $\bar{S}^{-1}(\frac{R}{\mk{p}})\hookrightarrow$ field of fractions of the integral domain $\frac{R}{\mk{p}}$ (see next remark). 

\end{itemize}

This concludes the proof.

\end{enumerate}

\qed

\rem

Suppose $R$ is an integral domain. Then $S = R\setminus\{0\}$ is a multiplicative set. We call $S^{-1}R$ the \underline{field of fractions of $R$}. 

\begin{enumerate}

\item $S^{-1}R$ is a field, since $\frac{r}{s}\neq0 \in S^{-1}R$, so $r\neq0$, i.e. $r \in S$, so $\frac{s}{r} \in S^{-1}R$,so $\frac{r}{s}$ is a unit in $S^{-1}R$. 

\item The map $f:R\to S^{-1}R$, $r \mapsto \frac{r}{1}$, is injective. 

\end{enumerate}

















\end{document}